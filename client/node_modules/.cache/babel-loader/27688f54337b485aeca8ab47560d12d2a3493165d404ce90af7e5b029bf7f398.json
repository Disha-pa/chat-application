{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\parma\\\\OneDrive\\\\Desktop\\\\Chat Application\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Chat from './Chat';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState(() => {\n    const saved = localStorage.getItem('user');\n    return saved ? JSON.parse(saved) : null;\n  });\n  const [token, setToken] = useState(() => localStorage.getItem('token') || '');\n  const [showRegister, setShowRegister] = useState(false);\n  const [form, setForm] = useState({\n    username: '',\n    password: '',\n    avatar: ''\n  });\n  const [error, setError] = useState('');\n  const handleChange = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    setError('');\n    try {\n      const res = await fetch('/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: form.username,\n          password: form.password\n        })\n      });\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error || 'Login failed');\n      setUser(data.user);\n      setToken(data.token);\n      localStorage.setItem('user', JSON.stringify(data.user));\n      localStorage.setItem('token', data.token);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n  const handleRegister = async e => {\n    e.preventDefault();\n    setError('');\n    try {\n      const res = await fetch('/api/register', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(form)\n      });\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error || 'Registration failed');\n      setShowRegister(false);\n      setError('Registration successful! Please log in.');\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n  const handleLogout = () => {\n    setUser(null);\n    setToken('');\n    localStorage.removeItem('user');\n    localStorage.removeItem('token');\n  };\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 400,\n        margin: '4rem auto',\n        padding: 20,\n        border: '1px solid #ccc',\n        borderRadius: 8,\n        background: '#f0f2f5'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: 'center',\n          color: '#075E54'\n        },\n        children: showRegister ? 'Register' : 'Login'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: showRegister ? handleRegister : handleLogin,\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          value: form.username,\n          onChange: handleChange,\n          placeholder: \"Username\",\n          required: true,\n          style: {\n            padding: 10,\n            borderRadius: 4,\n            border: '1px solid #ccc'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          value: form.password,\n          onChange: handleChange,\n          placeholder: \"Password\",\n          required: true,\n          style: {\n            padding: 10,\n            borderRadius: 4,\n            border: '1px solid #ccc'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), showRegister && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"avatar\",\n          value: form.avatar,\n          onChange: handleChange,\n          placeholder: \"Avatar URL (optional)\",\n          style: {\n            padding: 10,\n            borderRadius: 4,\n            border: '1px solid #ccc'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          style: {\n            background: '#25D366',\n            color: '#fff',\n            border: 'none',\n            borderRadius: 4,\n            padding: 10,\n            fontWeight: 'bold'\n          },\n          children: showRegister ? 'Register' : 'Login'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 10,\n          textAlign: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setShowRegister(r => !r);\n            setError('');\n          },\n          style: {\n            background: 'none',\n            border: 'none',\n            color: '#075E54',\n            cursor: 'pointer',\n            textDecoration: 'underline'\n          },\n          children: showRegister ? 'Already have an account? Login' : 'No account? Register'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'red',\n          marginTop: 10,\n          textAlign: 'center'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Chat, {\n    user: user,\n    onLogout: handleLogout\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 10\n  }, this);\n}\n_s(App, \"Ku3GrLS/HBKXL1L9lUD9xhQCAAc=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Chat","jsxDEV","_jsxDEV","App","_s","user","setUser","saved","localStorage","getItem","JSON","parse","token","setToken","showRegister","setShowRegister","form","setForm","username","password","avatar","error","setError","handleChange","e","target","name","value","handleLogin","preventDefault","res","fetch","method","headers","body","stringify","data","json","ok","Error","setItem","err","message","handleRegister","handleLogout","removeItem","style","maxWidth","margin","padding","border","borderRadius","background","children","textAlign","color","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","display","flexDirection","gap","type","onChange","placeholder","required","fontWeight","marginTop","onClick","r","cursor","textDecoration","onLogout","_c","$RefreshReg$"],"sources":["C:/Users/parma/OneDrive/Desktop/Chat Application/client/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Chat from './Chat';\n\nfunction App() {\n  const [user, setUser] = useState(() => {\n    const saved = localStorage.getItem('user');\n    return saved ? JSON.parse(saved) : null;\n  });\n  const [token, setToken] = useState(() => localStorage.getItem('token') || '');\n  const [showRegister, setShowRegister] = useState(false);\n  const [form, setForm] = useState({ username: '', password: '', avatar: '' });\n  const [error, setError] = useState('');\n\n  const handleChange = e => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleLogin = async e => {\n    e.preventDefault();\n    setError('');\n    try {\n      const res = await fetch('/api/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username: form.username, password: form.password })\n      });\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error || 'Login failed');\n      setUser(data.user);\n      setToken(data.token);\n      localStorage.setItem('user', JSON.stringify(data.user));\n      localStorage.setItem('token', data.token);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleRegister = async e => {\n    e.preventDefault();\n    setError('');\n    try {\n      const res = await fetch('/api/register', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(form)\n      });\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error || 'Registration failed');\n      setShowRegister(false);\n      setError('Registration successful! Please log in.');\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleLogout = () => {\n    setUser(null);\n    setToken('');\n    localStorage.removeItem('user');\n    localStorage.removeItem('token');\n  };\n\n  if (!user) {\n  return (\n      <div style={{ maxWidth: 400, margin: '4rem auto', padding: 20, border: '1px solid #ccc', borderRadius: 8, background: '#f0f2f5' }}>\n        <h2 style={{ textAlign: 'center', color: '#075E54' }}>{showRegister ? 'Register' : 'Login'}</h2>\n        <form onSubmit={showRegister ? handleRegister : handleLogin} style={{ display: 'flex', flexDirection: 'column', gap: 12 }}>\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={form.username}\n            onChange={handleChange}\n            placeholder=\"Username\"\n            required\n            style={{ padding: 10, borderRadius: 4, border: '1px solid #ccc' }}\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={form.password}\n            onChange={handleChange}\n            placeholder=\"Password\"\n            required\n            style={{ padding: 10, borderRadius: 4, border: '1px solid #ccc' }}\n          />\n          {showRegister && (\n            <input\n              type=\"text\"\n              name=\"avatar\"\n              value={form.avatar}\n              onChange={handleChange}\n              placeholder=\"Avatar URL (optional)\"\n              style={{ padding: 10, borderRadius: 4, border: '1px solid #ccc' }}\n            />\n          )}\n          <button type=\"submit\" style={{ background: '#25D366', color: '#fff', border: 'none', borderRadius: 4, padding: 10, fontWeight: 'bold' }}>{showRegister ? 'Register' : 'Login'}</button>\n        </form>\n        <div style={{ marginTop: 10, textAlign: 'center' }}>\n          <button onClick={() => { setShowRegister(r => !r); setError(''); }} style={{ background: 'none', border: 'none', color: '#075E54', cursor: 'pointer', textDecoration: 'underline' }}>\n            {showRegister ? 'Already have an account? Login' : 'No account? Register'}\n          </button>\n        </div>\n        {error && <div style={{ color: 'red', marginTop: 10, textAlign: 'center' }}>{error}</div>}\n    </div>\n  );\n  }\n\n  return <Chat user={user} onLogout={handleLogout} />;\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}