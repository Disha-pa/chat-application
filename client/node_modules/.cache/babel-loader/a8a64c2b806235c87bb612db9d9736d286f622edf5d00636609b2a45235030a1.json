{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\parma\\\\OneDrive\\\\Desktop\\\\Chat Application\\\\client\\\\src\\\\Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport { io } from 'socket.io-client';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst socket = io('http://localhost:5000');\nfunction getRandomColor() {\n  const colors = ['#25D366', '#34B7F1', '#FFEB3B', '#FF5722', '#9C27B0'];\n  return colors[Math.floor(Math.random() * colors.length)];\n}\nfunction Chat({\n  user,\n  onLogout\n}) {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [groups, setGroups] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [selectedGroup, setSelectedGroup] = useState(null);\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [showCreateGroup, setShowCreateGroup] = useState(false);\n  const [newGroup, setNewGroup] = useState({\n    name: '',\n    avatar: ''\n  });\n  const messagesEndRef = useRef(null);\n\n  // Fetch user and group list\n  useEffect(() => {\n    fetch(`/api/users?username=${encodeURIComponent(user.username)}`).then(res => res.json()).then(setUsers);\n    fetch(`/api/groups?username=${encodeURIComponent(user.username)}`).then(res => res.json()).then(setGroups);\n  }, [user.username]);\n\n  // Join own room for private messaging\n  useEffect(() => {\n    socket.emit('join', user.username);\n  }, [user.username]);\n\n  // Join group room when selectedGroup changes\n  useEffect(() => {\n    if (selectedGroup) socket.emit('join-group', selectedGroup.name);\n  }, [selectedGroup]);\n\n  // Fetch private chat history when selectedUser changes\n  useEffect(() => {\n    if (selectedUser) {\n      fetch(`/api/messages/${user.username}/${selectedUser.username}`).then(res => res.json()).then(setMessages);\n    }\n  }, [selectedUser, user.username]);\n\n  // Fetch group chat history when selectedGroup changes\n  useEffect(() => {\n    if (selectedGroup) {\n      fetch(`/api/group-messages/${selectedGroup.name}`).then(res => res.json()).then(setMessages);\n    }\n  }, [selectedGroup]);\n\n  // Listen for private and group messages\n  useEffect(() => {\n    const privateHandler = msg => {\n      if (msg.from === user.username && msg.to === (selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.username) || msg.from === (selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.username) && msg.to === user.username) {\n        setMessages(prev => [...prev, msg]);\n      }\n    };\n    const groupHandler = msg => {\n      if (msg.group === (selectedGroup === null || selectedGroup === void 0 ? void 0 : selectedGroup.name)) {\n        setMessages(prev => [...prev, msg]);\n      }\n    };\n    socket.on('private message', privateHandler);\n    socket.on('group message', groupHandler);\n    return () => {\n      socket.off('private message', privateHandler);\n      socket.off('group message', groupHandler);\n    };\n  }, [selectedUser, selectedGroup, user.username]);\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const sendMessage = e => {\n    e.preventDefault();\n    if (message.trim() && user && selectedUser) {\n      socket.emit('private message', {\n        from: user.username,\n        to: selectedUser.username,\n        text: message,\n        color: user.avatar ? undefined : getRandomColor(),\n        avatar: user.avatar,\n        time: new Date().toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      });\n      setMessage('');\n    } else if (message.trim() && user && selectedGroup) {\n      socket.emit('group message', {\n        from: user.username,\n        group: selectedGroup.name,\n        text: message,\n        color: user.avatar ? undefined : getRandomColor(),\n        avatar: user.avatar,\n        time: new Date().toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      });\n      setMessage('');\n    }\n  };\n  const handleCreateGroup = async e => {\n    e.preventDefault();\n    if (!newGroup.name) return;\n    const res = await fetch('/api/groups', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        ...newGroup,\n        admin: user.username\n      })\n    });\n    if (res.ok) {\n      setShowCreateGroup(false);\n      setNewGroup({\n        name: '',\n        avatar: ''\n      });\n      fetch(`/api/groups?username=${encodeURIComponent(user.username)}`).then(res => res.json()).then(setGroups);\n    }\n  };\n  const handleJoinGroup = async group => {\n    await fetch('/api/groups/join', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: group.name,\n        username: user.username\n      })\n    });\n    setSelectedGroup(group);\n    setSelectedUser(null);\n    fetch(`/api/groups?username=${encodeURIComponent(user.username)}`).then(res => res.json()).then(setGroups);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 1100,\n      margin: '2rem auto',\n      background: '#fff',\n      borderRadius: 8,\n      boxShadow: '0 2px 8px #0001',\n      display: 'flex',\n      height: '80vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: 260,\n        borderRight: '1px solid #eee',\n        background: '#f7f7f7',\n        borderTopLeftRadius: 8,\n        borderBottomLeftRadius: 8,\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 16,\n          borderBottom: '1px solid #eee',\n          background: '#075E54',\n          color: '#fff',\n          fontWeight: 'bold',\n          borderTopLeftRadius: 8\n        },\n        children: [user.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: user.avatar,\n          alt: \"avatar\",\n          style: {\n            width: 36,\n            height: 36,\n            borderRadius: '50%',\n            objectFit: 'cover',\n            border: '2px solid #fff',\n            marginRight: 8\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            width: 36,\n            height: 36,\n            borderRadius: '50%',\n            background: '#25D366',\n            color: '#fff',\n            display: 'inline-flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontWeight: 'bold',\n            fontSize: 16,\n            marginRight: 8\n          },\n          children: user.username[0].toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this), user.username]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          overflowY: 'auto',\n          borderBottom: '1px solid #eee'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '8px 12px',\n            fontWeight: 'bold',\n            color: '#075E54'\n          },\n          children: \"Groups\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), groups.map(g => /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => handleJoinGroup(g),\n          style: {\n            cursor: 'pointer',\n            padding: 10,\n            background: (selectedGroup === null || selectedGroup === void 0 ? void 0 : selectedGroup.name) === g.name ? '#e0f2f1' : 'transparent',\n            display: 'flex',\n            alignItems: 'center',\n            gap: 10\n          },\n          children: [g.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: g.avatar,\n            alt: \"avatar\",\n            style: {\n              width: 32,\n              height: 32,\n              borderRadius: '50%',\n              objectFit: 'cover'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              width: 32,\n              height: 32,\n              borderRadius: '50%',\n              background: '#9C27B0',\n              color: '#fff',\n              display: 'inline-flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontWeight: 'bold',\n              fontSize: 15\n            },\n            children: g.name[0].toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: g.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 15\n          }, this)]\n        }, g.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowCreateGroup(true),\n          style: {\n            margin: '10px 12px',\n            background: '#25D366',\n            color: '#fff',\n            border: 'none',\n            borderRadius: 4,\n            padding: '6px 0',\n            fontWeight: 'bold',\n            cursor: 'pointer'\n          },\n          children: \"+ Create Group\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '8px 12px',\n            fontWeight: 'bold',\n            color: '#075E54',\n            marginTop: 16\n          },\n          children: \"Users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), users.map(u => /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => {\n            setSelectedUser(u);\n            setSelectedGroup(null);\n          },\n          style: {\n            cursor: 'pointer',\n            padding: 10,\n            background: (selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.username) === u.username ? '#e0f2f1' : 'transparent',\n            display: 'flex',\n            alignItems: 'center',\n            gap: 10\n          },\n          children: [u.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: u.avatar,\n            alt: \"avatar\",\n            style: {\n              width: 32,\n              height: 32,\n              borderRadius: '50%',\n              objectFit: 'cover'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              width: 32,\n              height: 32,\n              borderRadius: '50%',\n              background: '#34B7F1',\n              color: '#fff',\n              display: 'inline-flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontWeight: 'bold',\n              fontSize: 15\n            },\n            children: u.username[0].toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: u.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this)]\n        }, u.username, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onLogout,\n        style: {\n          margin: 16,\n          background: '#fff',\n          color: '#075E54',\n          border: '1px solid #075E54',\n          borderRadius: 4,\n          padding: '6px 0',\n          fontWeight: 'bold',\n          cursor: 'pointer'\n        },\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#075E54',\n          color: '#fff',\n          padding: '1rem',\n          borderTopRightRadius: 8,\n          fontWeight: 'bold',\n          fontSize: 20,\n          minHeight: 60,\n          display: 'flex',\n          alignItems: 'center'\n        },\n        children: selectedGroup ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [selectedGroup.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: selectedGroup.avatar,\n            alt: \"avatar\",\n            style: {\n              width: 36,\n              height: 36,\n              borderRadius: '50%',\n              objectFit: 'cover',\n              border: '2px solid #fff',\n              marginRight: 8\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              width: 36,\n              height: 36,\n              borderRadius: '50%',\n              background: '#9C27B0',\n              color: '#fff',\n              display: 'inline-flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontWeight: 'bold',\n              fontSize: 16,\n              marginRight: 8\n            },\n            children: selectedGroup.name[0].toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 17\n          }, this), selectedGroup.name]\n        }, void 0, true) : selectedUser ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [selectedUser.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: selectedUser.avatar,\n            alt: \"avatar\",\n            style: {\n              width: 36,\n              height: 36,\n              borderRadius: '50%',\n              objectFit: 'cover',\n              border: '2px solid #fff',\n              marginRight: 8\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              width: 36,\n              height: 36,\n              borderRadius: '50%',\n              background: '#34B7F1',\n              color: '#fff',\n              display: 'inline-flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontWeight: 'bold',\n              fontSize: 16,\n              marginRight: 8\n            },\n            children: selectedUser.username[0].toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 17\n          }, this), selectedUser.username]\n        }, void 0, true) : 'Select a user or group to chat'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          overflowY: 'auto',\n          padding: 16,\n          background: '#ece5dd'\n        },\n        children: [selectedGroup || selectedUser ? messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: msg.from === user.username ? 'row-reverse' : 'row',\n            alignItems: 'flex-end',\n            marginBottom: 10\n          },\n          children: [msg.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: msg.avatar,\n            alt: \"avatar\",\n            style: {\n              width: 36,\n              height: 36,\n              borderRadius: '50%',\n              objectFit: 'cover',\n              margin: '0 8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 36,\n              height: 36,\n              borderRadius: '50%',\n              background: msg.color || '#25D366',\n              color: '#fff',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontWeight: 'bold',\n              fontSize: 16,\n              margin: '0 8px'\n            },\n            children: msg.from ? msg.from[0].toUpperCase() : '?'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              maxWidth: '70%',\n              background: msg.from === user.username ? '#dcf8c6' : '#fff',\n              borderRadius: 8,\n              padding: '8px 12px',\n              boxShadow: '0 1px 2px #0001',\n              position: 'relative'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 'bold',\n                fontSize: 13,\n                color: '#075E54'\n              },\n              children: msg.from || 'Unknown'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 15\n              },\n              children: msg.text || msg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 11,\n                color: '#888',\n                textAlign: 'right',\n                marginTop: 2\n              },\n              children: msg.time || ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 17\n          }, this)]\n        }, msg._id || idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#888',\n            textAlign: 'center',\n            marginTop: 40\n          },\n          children: \"Select a user or group to start chatting\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), (selectedUser || selectedGroup) && /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: sendMessage,\n        style: {\n          display: 'flex',\n          padding: 12,\n          background: '#f0f0f0',\n          borderBottomRightRadius: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: message,\n          onChange: e => setMessage(e.target.value),\n          placeholder: selectedGroup ? `Message #${selectedGroup.name}` : `Message @${selectedUser.username}`,\n          style: {\n            flex: 1,\n            borderRadius: 20,\n            border: '1px solid #ccc',\n            padding: '10px 16px',\n            marginRight: 8\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          style: {\n            background: '#25D366',\n            color: '#fff',\n            border: 'none',\n            borderRadius: 20,\n            padding: '0 20px',\n            fontWeight: 'bold',\n            fontSize: 16\n          },\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }, this), showCreateGroup && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          width: '100vw',\n          height: '100vh',\n          background: '#0008',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000\n        },\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleCreateGroup,\n          style: {\n            background: '#fff',\n            padding: 32,\n            borderRadius: 8,\n            minWidth: 320,\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: 0,\n              color: '#075E54'\n            },\n            children: \"Create Group\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: newGroup.name,\n            onChange: e => setNewGroup(g => ({\n              ...g,\n              name: e.target.value\n            })),\n            placeholder: \"Group name\",\n            required: true,\n            style: {\n              padding: 10,\n              borderRadius: 4,\n              border: '1px solid #ccc'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: newGroup.avatar,\n            onChange: e => setNewGroup(g => ({\n              ...g,\n              avatar: e.target.value\n            })),\n            placeholder: \"Avatar URL (optional)\",\n            style: {\n              padding: 10,\n              borderRadius: 4,\n              border: '1px solid #ccc'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              style: {\n                background: '#25D366',\n                color: '#fff',\n                border: 'none',\n                borderRadius: 4,\n                padding: 10,\n                fontWeight: 'bold',\n                flex: 1\n              },\n              children: \"Create\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setShowCreateGroup(false),\n              style: {\n                background: '#eee',\n                color: '#333',\n                border: 'none',\n                borderRadius: 4,\n                padding: 10,\n                fontWeight: 'bold',\n                flex: 1\n              },\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this);\n}\n_s(Chat, \"+ccRcXBKjw4aXZuL9JPKVSixQg4=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useEffect","useState","useRef","io","jsxDEV","_jsxDEV","Fragment","_Fragment","socket","getRandomColor","colors","Math","floor","random","length","Chat","user","onLogout","_s","users","setUsers","groups","setGroups","selectedUser","setSelectedUser","selectedGroup","setSelectedGroup","message","setMessage","messages","setMessages","showCreateGroup","setShowCreateGroup","newGroup","setNewGroup","name","avatar","messagesEndRef","fetch","encodeURIComponent","username","then","res","json","emit","privateHandler","msg","from","to","prev","groupHandler","group","on","off","_messagesEndRef$curre","current","scrollIntoView","behavior","sendMessage","e","preventDefault","trim","text","color","undefined","time","Date","toLocaleTimeString","hour","minute","handleCreateGroup","method","headers","body","JSON","stringify","admin","ok","handleJoinGroup","style","maxWidth","margin","background","borderRadius","boxShadow","display","height","children","width","borderRight","borderTopLeftRadius","borderBottomLeftRadius","flexDirection","padding","borderBottom","fontWeight","src","alt","objectFit","border","marginRight","fileName","_jsxFileName","lineNumber","columnNumber","alignItems","justifyContent","fontSize","toUpperCase","flex","overflowY","map","g","onClick","cursor","gap","marginTop","u","borderTopRightRadius","minHeight","idx","marginBottom","position","textAlign","_id","ref","onSubmit","borderBottomRightRadius","type","value","onChange","target","placeholder","top","left","zIndex","minWidth","required","_c","$RefreshReg$"],"sources":["C:/Users/parma/OneDrive/Desktop/Chat Application/client/src/Chat.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport { io } from 'socket.io-client';\r\n\r\nconst socket = io('http://localhost:5000');\r\n\r\nfunction getRandomColor() {\r\n  const colors = ['#25D366', '#34B7F1', '#FFEB3B', '#FF5722', '#9C27B0'];\r\n  return colors[Math.floor(Math.random() * colors.length)];\r\n}\r\n\r\nfunction Chat({ user, onLogout }) {\r\n  const [users, setUsers] = useState([]);\r\n  const [groups, setGroups] = useState([]);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [selectedGroup, setSelectedGroup] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n  const [messages, setMessages] = useState([]);\r\n  const [showCreateGroup, setShowCreateGroup] = useState(false);\r\n  const [newGroup, setNewGroup] = useState({ name: '', avatar: '' });\r\n  const messagesEndRef = useRef(null);\r\n\r\n  // Fetch user and group list\r\n  useEffect(() => {\r\n    fetch(`/api/users?username=${encodeURIComponent(user.username)}`)\r\n      .then(res => res.json())\r\n      .then(setUsers);\r\n    fetch(`/api/groups?username=${encodeURIComponent(user.username)}`)\r\n      .then(res => res.json())\r\n      .then(setGroups);\r\n  }, [user.username]);\r\n\r\n  // Join own room for private messaging\r\n  useEffect(() => {\r\n    socket.emit('join', user.username);\r\n  }, [user.username]);\r\n\r\n  // Join group room when selectedGroup changes\r\n  useEffect(() => {\r\n    if (selectedGroup) socket.emit('join-group', selectedGroup.name);\r\n  }, [selectedGroup]);\r\n\r\n  // Fetch private chat history when selectedUser changes\r\n  useEffect(() => {\r\n    if (selectedUser) {\r\n      fetch(`/api/messages/${user.username}/${selectedUser.username}`)\r\n        .then(res => res.json())\r\n        .then(setMessages);\r\n    }\r\n  }, [selectedUser, user.username]);\r\n\r\n  // Fetch group chat history when selectedGroup changes\r\n  useEffect(() => {\r\n    if (selectedGroup) {\r\n      fetch(`/api/group-messages/${selectedGroup.name}`)\r\n        .then(res => res.json())\r\n        .then(setMessages);\r\n    }\r\n  }, [selectedGroup]);\r\n\r\n  // Listen for private and group messages\r\n  useEffect(() => {\r\n    const privateHandler = (msg) => {\r\n      if (\r\n        (msg.from === user.username && msg.to === selectedUser?.username) ||\r\n        (msg.from === selectedUser?.username && msg.to === user.username)\r\n      ) {\r\n        setMessages((prev) => [...prev, msg]);\r\n      }\r\n    };\r\n    const groupHandler = (msg) => {\r\n      if (msg.group === selectedGroup?.name) {\r\n        setMessages((prev) => [...prev, msg]);\r\n      }\r\n    };\r\n    socket.on('private message', privateHandler);\r\n    socket.on('group message', groupHandler);\r\n    return () => {\r\n      socket.off('private message', privateHandler);\r\n      socket.off('group message', groupHandler);\r\n    };\r\n  }, [selectedUser, selectedGroup, user.username]);\r\n\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  const sendMessage = (e) => {\r\n    e.preventDefault();\r\n    if (message.trim() && user && selectedUser) {\r\n      socket.emit('private message', {\r\n        from: user.username,\r\n        to: selectedUser.username,\r\n        text: message,\r\n        color: user.avatar ? undefined : getRandomColor(),\r\n        avatar: user.avatar,\r\n        time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\r\n      });\r\n      setMessage('');\r\n    } else if (message.trim() && user && selectedGroup) {\r\n      socket.emit('group message', {\r\n        from: user.username,\r\n        group: selectedGroup.name,\r\n        text: message,\r\n        color: user.avatar ? undefined : getRandomColor(),\r\n        avatar: user.avatar,\r\n        time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\r\n      });\r\n      setMessage('');\r\n    }\r\n  };\r\n\r\n  const handleCreateGroup = async (e) => {\r\n    e.preventDefault();\r\n    if (!newGroup.name) return;\r\n    const res = await fetch('/api/groups', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ ...newGroup, admin: user.username })\r\n    });\r\n    if (res.ok) {\r\n      setShowCreateGroup(false);\r\n      setNewGroup({ name: '', avatar: '' });\r\n      fetch(`/api/groups?username=${encodeURIComponent(user.username)}`)\r\n        .then(res => res.json())\r\n        .then(setGroups);\r\n    }\r\n  };\r\n\r\n  const handleJoinGroup = async (group) => {\r\n    await fetch('/api/groups/join', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ name: group.name, username: user.username })\r\n    });\r\n    setSelectedGroup(group);\r\n    setSelectedUser(null);\r\n    fetch(`/api/groups?username=${encodeURIComponent(user.username)}`)\r\n      .then(res => res.json())\r\n      .then(setGroups);\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 1100, margin: '2rem auto', background: '#fff', borderRadius: 8, boxShadow: '0 2px 8px #0001', display: 'flex', height: '80vh' }}>\r\n      {/* Sidebar: User & Group List */}\r\n      <div style={{ width: 260, borderRight: '1px solid #eee', background: '#f7f7f7', borderTopLeftRadius: 8, borderBottomLeftRadius: 8, display: 'flex', flexDirection: 'column' }}>\r\n        <div style={{ padding: 16, borderBottom: '1px solid #eee', background: '#075E54', color: '#fff', fontWeight: 'bold', borderTopLeftRadius: 8 }}>\r\n          {user.avatar ? (\r\n            <img src={user.avatar} alt=\"avatar\" style={{ width: 36, height: 36, borderRadius: '50%', objectFit: 'cover', border: '2px solid #fff', marginRight: 8 }} />\r\n          ) : (\r\n            <span style={{ width: 36, height: 36, borderRadius: '50%', background: '#25D366', color: '#fff', display: 'inline-flex', alignItems: 'center', justifyContent: 'center', fontWeight: 'bold', fontSize: 16, marginRight: 8 }}>{user.username[0].toUpperCase()}</span>\r\n          )}\r\n          {user.username}\r\n        </div>\r\n        <div style={{ flex: 1, overflowY: 'auto', borderBottom: '1px solid #eee' }}>\r\n          <div style={{ padding: '8px 12px', fontWeight: 'bold', color: '#075E54' }}>Groups</div>\r\n          {groups.map(g => (\r\n            <div key={g.name} onClick={() => handleJoinGroup(g)} style={{ cursor: 'pointer', padding: 10, background: selectedGroup?.name === g.name ? '#e0f2f1' : 'transparent', display: 'flex', alignItems: 'center', gap: 10 }}>\r\n              {g.avatar ? (\r\n                <img src={g.avatar} alt=\"avatar\" style={{ width: 32, height: 32, borderRadius: '50%', objectFit: 'cover' }} />\r\n              ) : (\r\n                <span style={{ width: 32, height: 32, borderRadius: '50%', background: '#9C27B0', color: '#fff', display: 'inline-flex', alignItems: 'center', justifyContent: 'center', fontWeight: 'bold', fontSize: 15 }}>{g.name[0].toUpperCase()}</span>\r\n              )}\r\n              <span>{g.name}</span>\r\n            </div>\r\n          ))}\r\n          <button onClick={() => setShowCreateGroup(true)} style={{ margin: '10px 12px', background: '#25D366', color: '#fff', border: 'none', borderRadius: 4, padding: '6px 0', fontWeight: 'bold', cursor: 'pointer' }}>+ Create Group</button>\r\n          <div style={{ padding: '8px 12px', fontWeight: 'bold', color: '#075E54', marginTop: 16 }}>Users</div>\r\n          {users.map(u => (\r\n            <div key={u.username} onClick={() => { setSelectedUser(u); setSelectedGroup(null); }} style={{ cursor: 'pointer', padding: 10, background: selectedUser?.username === u.username ? '#e0f2f1' : 'transparent', display: 'flex', alignItems: 'center', gap: 10 }}>\r\n              {u.avatar ? (\r\n                <img src={u.avatar} alt=\"avatar\" style={{ width: 32, height: 32, borderRadius: '50%', objectFit: 'cover' }} />\r\n              ) : (\r\n                <span style={{ width: 32, height: 32, borderRadius: '50%', background: '#34B7F1', color: '#fff', display: 'inline-flex', alignItems: 'center', justifyContent: 'center', fontWeight: 'bold', fontSize: 15 }}>{u.username[0].toUpperCase()}</span>\r\n              )}\r\n              <span>{u.username}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <button onClick={onLogout} style={{ margin: 16, background: '#fff', color: '#075E54', border: '1px solid #075E54', borderRadius: 4, padding: '6px 0', fontWeight: 'bold', cursor: 'pointer' }}>Logout</button>\r\n      </div>\r\n      {/* Main Chat Area */}\r\n      <div style={{ flex: 1, display: 'flex', flexDirection: 'column' }}>\r\n        <div style={{ background: '#075E54', color: '#fff', padding: '1rem', borderTopRightRadius: 8, fontWeight: 'bold', fontSize: 20, minHeight: 60, display: 'flex', alignItems: 'center' }}>\r\n          {selectedGroup ? (\r\n            <>\r\n              {selectedGroup.avatar ? (\r\n                <img src={selectedGroup.avatar} alt=\"avatar\" style={{ width: 36, height: 36, borderRadius: '50%', objectFit: 'cover', border: '2px solid #fff', marginRight: 8 }} />\r\n              ) : (\r\n                <span style={{ width: 36, height: 36, borderRadius: '50%', background: '#9C27B0', color: '#fff', display: 'inline-flex', alignItems: 'center', justifyContent: 'center', fontWeight: 'bold', fontSize: 16, marginRight: 8 }}>{selectedGroup.name[0].toUpperCase()}</span>\r\n              )}\r\n              {selectedGroup.name}\r\n            </>\r\n          ) : selectedUser ? (\r\n            <>\r\n              {selectedUser.avatar ? (\r\n                <img src={selectedUser.avatar} alt=\"avatar\" style={{ width: 36, height: 36, borderRadius: '50%', objectFit: 'cover', border: '2px solid #fff', marginRight: 8 }} />\r\n              ) : (\r\n                <span style={{ width: 36, height: 36, borderRadius: '50%', background: '#34B7F1', color: '#fff', display: 'inline-flex', alignItems: 'center', justifyContent: 'center', fontWeight: 'bold', fontSize: 16, marginRight: 8 }}>{selectedUser.username[0].toUpperCase()}</span>\r\n              )}\r\n              {selectedUser.username}\r\n            </>\r\n          ) : 'Select a user or group to chat'}\r\n        </div>\r\n        <div style={{ flex: 1, overflowY: 'auto', padding: 16, background: '#ece5dd' }}>\r\n          {(selectedGroup || selectedUser) ? (\r\n            messages.map((msg, idx) => (\r\n              <div key={msg._id || idx} style={{ display: 'flex', flexDirection: (msg.from === user.username) ? 'row-reverse' : 'row', alignItems: 'flex-end', marginBottom: 10 }}>\r\n                {msg.avatar ? (\r\n                  <img src={msg.avatar} alt=\"avatar\" style={{ width: 36, height: 36, borderRadius: '50%', objectFit: 'cover', margin: '0 8px' }} />\r\n                ) : (\r\n                  <div style={{ width: 36, height: 36, borderRadius: '50%', background: msg.color || '#25D366', color: '#fff', display: 'flex', alignItems: 'center', justifyContent: 'center', fontWeight: 'bold', fontSize: 16, margin: '0 8px' }}>\r\n                    {msg.from ? msg.from[0].toUpperCase() : '?'}\r\n                  </div>\r\n                )}\r\n                <div style={{ maxWidth: '70%', background: (msg.from === user.username) ? '#dcf8c6' : '#fff', borderRadius: 8, padding: '8px 12px', boxShadow: '0 1px 2px #0001', position: 'relative' }}>\r\n                  <div style={{ fontWeight: 'bold', fontSize: 13, color: '#075E54' }}>{msg.from || 'Unknown'}</div>\r\n                  <div style={{ fontSize: 15 }}>{msg.text || msg}</div>\r\n                  <div style={{ fontSize: 11, color: '#888', textAlign: 'right', marginTop: 2 }}>{msg.time || ''}</div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div style={{ color: '#888', textAlign: 'center', marginTop: 40 }}>Select a user or group to start chatting</div>\r\n          )}\r\n          <div ref={messagesEndRef} />\r\n        </div>\r\n        {(selectedUser || selectedGroup) && (\r\n          <form onSubmit={sendMessage} style={{ display: 'flex', padding: 12, background: '#f0f0f0', borderBottomRightRadius: 8 }}>\r\n            <input\r\n              type=\"text\"\r\n              value={message}\r\n              onChange={e => setMessage(e.target.value)}\r\n              placeholder={selectedGroup ? `Message #${selectedGroup.name}` : `Message @${selectedUser.username}`}\r\n              style={{ flex: 1, borderRadius: 20, border: '1px solid #ccc', padding: '10px 16px', marginRight: 8 }}\r\n            />\r\n            <button type=\"submit\" style={{ background: '#25D366', color: '#fff', border: 'none', borderRadius: 20, padding: '0 20px', fontWeight: 'bold', fontSize: 16 }}>Send</button>\r\n          </form>\r\n        )}\r\n        {showCreateGroup && (\r\n          <div style={{ position: 'fixed', top: 0, left: 0, width: '100vw', height: '100vh', background: '#0008', display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 1000 }}>\r\n            <form onSubmit={handleCreateGroup} style={{ background: '#fff', padding: 32, borderRadius: 8, minWidth: 320, display: 'flex', flexDirection: 'column', gap: 16 }}>\r\n              <h3 style={{ margin: 0, color: '#075E54' }}>Create Group</h3>\r\n              <input\r\n                type=\"text\"\r\n                value={newGroup.name}\r\n                onChange={e => setNewGroup(g => ({ ...g, name: e.target.value }))}\r\n                placeholder=\"Group name\"\r\n                required\r\n                style={{ padding: 10, borderRadius: 4, border: '1px solid #ccc' }}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                value={newGroup.avatar}\r\n                onChange={e => setNewGroup(g => ({ ...g, avatar: e.target.value }))}\r\n                placeholder=\"Avatar URL (optional)\"\r\n                style={{ padding: 10, borderRadius: 4, border: '1px solid #ccc' }}\r\n              />\r\n              <div style={{ display: 'flex', gap: 8 }}>\r\n                <button type=\"submit\" style={{ background: '#25D366', color: '#fff', border: 'none', borderRadius: 4, padding: 10, fontWeight: 'bold', flex: 1 }}>Create</button>\r\n                <button type=\"button\" onClick={() => setShowCreateGroup(false)} style={{ background: '#eee', color: '#333', border: 'none', borderRadius: 4, padding: 10, fontWeight: 'bold', flex: 1 }}>Cancel</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}